@startuml
actor Tutor
participant "CommandBox\n(UI)" as CommandBox
participant "LogicManager" as Logic
participant "AddressBookParser" as Parser
participant "PaidCommandParser" as PaidParser
participant "PaidCommand" as PaidCommand
participant "Model\n(ModelManager)" as Model
participant "AddressBook\n(storage)" as AddressBook

Tutor -> CommandBox : enter "paid n/Alex Yeoh"
CommandBox -> Logic : execute(commandText)
Logic -> Parser : parseCommand("paid n/Alex Yeoh")
Parser -> PaidParser : parse(arguments)
PaidParser --> Parser : new PaidCommand(name)
Parser --> Logic : PaidCommand
Logic -> PaidCommand : execute(model)

PaidCommand -> Model : getFilteredPersonList()/getAddressBook()
PaidCommand -> Model : setPerson(target, updatedPerson)
activate Model
Model -> AddressBook : setPerson(old, updated)
Model -> Model : recalculateParentAggregates()
deactivate Model

PaidCommand --> Logic : CommandResult("Marked as paid: Alex Yeoh")
Logic -> Logic : saveAddressBook()
Logic --> CommandBox : CommandResult
CommandBox -> Tutor : show feedback "Marked as paid..."

@enduml